(this["webpackJsonpavito-trainee-test"]=this["webpackJsonpavito-trainee-test"]||[]).push([[0],{23:function(e,n,t){},32:function(e,n,t){"use strict";t.r(n);var r,i,c,a=t(2),o=t(0),l=t.n(o),s=t(9),d=t.n(s),u=(t(23),t(3)),b=t(1),O=u.b.header(r||(r=Object(a.a)(['\n  text-align: center;\n  text-transform: uppercase;\n  font-family: "Roboto Condensed", sans-serif;\n  padding: 1rem 0;\n']))),j=function(e){var n=e.children;return Object(b.jsx)(O,{children:Object(b.jsx)("h1",{children:n})})},m=u.b.footer(i||(i=Object(a.a)(['\n  text-align: center;\n  font-family: "Roboto Condensed", sans-serif;\n\n  padding: 1rem 0;\n  color: #ccc;\n  border-top: 1px solid #ccc;\n']))),p=function(e){var n=e.children;return Object(b.jsx)(m,{children:n})},f=t(4);var g,h=u.b.li(c||(c=Object(a.a)(["\n  margin: 0.5rem 0.5rem;\n  cursor: pointer;\n  img {\n    display: block;\n    max-width: 100%;\n  }\n"]))),x=function(e,n,t){var r=!1;t.forEach((function(t,i){if(t.id===e)return r=!0,console.log("from cache",t),n(function(e){return{type:"OPEN_MODAL_FROM_CACHE",payload:e}}(i)),n({type:"BIG_IMG_NOT_LOADED"}),void n({type:"TOGGLE_MODAL_LOADING"})})),r||fetch("https://boiling-refuge-66454.herokuapp.com/images/".concat(e)).then((function(e){return e.json()})).then((function(e){console.log("from server ",e),n(function(e,n){return{type:"OPEN_MODAL_FROM_SERVER",payload:{image:e,index:n}}}(e,t.length)),n({type:"BIG_IMG_NOT_LOADED"}),n({type:"TOGGLE_MODAL_LOADING"})}))},y=function(e){var n=e.url,t=e.id,r=Object(f.b)(),i=Object(f.c)((function(e){return e.modal.modalImages}));return Object(b.jsx)(h,{onClick:x.bind(null,t,r,i),children:Object(b.jsx)("img",{src:n,alt:"just a beautiful"})})};function v(){return(v=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function _(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},c=Object.keys(e);for(r=0;r<c.length;r++)t=c[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)t=c[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function E(e,n){var t=e.title,r=e.titleId,i=_(e,["title","titleId"]);return o.createElement("svg",v({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{margin:"auto",background:"rgb(241, 242, 243)",display:"block",shapeRendering:"auto"},width:"200px",height:"200px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",ref:n,"aria-labelledby":r},i),t?o.createElement("title",{id:r},t):null,g||(g=o.createElement("circle",{cx:50,cy:50,fill:"none",stroke:"#57d1de",strokeWidth:10,r:35,strokeDasharray:"164.93361431346415 56.97787143782138"},o.createElement("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",dur:"1s",values:"0 50 50;360 50 50",keyTimes:"0;1"}))))}var I,w,L,D,G,A,M,k,S,N,T=o.forwardRef(E),R=(t.p,u.b.ul(I||(I=Object(a.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  padding-bottom: 2rem;\n"])))),C=function(){var e=Object(f.c)((function(e){return e.imagesState})),n=Object(f.b)();return Object(o.useEffect)((function(){n({type:"TOGGLE_IMAGES_LOADING"}),fetch("https://boiling-refuge-66454.herokuapp.com/images").then((function(e){return e.json()})).then((function(e){n(function(e){return{type:"SET_IMAGES",payload:e}}(e)),n({type:"TOGGLE_IMAGES_LOADING"})}))}),[]),Object(b.jsx)(R,{children:e.isLoading?Object(b.jsx)(T,{}):e.images.map((function(e){return Object(b.jsx)(y,{url:e.url,id:e.id},e.id)}))})},P=u.b.img(w||(w=Object(a.a)(["\n  max-width: 100%;\n  min-width: 320px;\n  margin-bottom: 1.8125rem;\n  display: ",";\n"])),(function(e){return e.isImgLoaded?"block":"none"})),B={display:"flex",justifyContent:"center",alignItems:"center"},F=function(e){var n=e.url,t=Object(f.b)(),r=Object(f.c)((function(e){return e.bigImage}));return Object(b.jsxs)("div",{style:B,children:[Object(b.jsx)(T,{style:{display:r&&"none"}}),Object(b.jsx)(P,{onLoad:function(){t({type:"BIG_IMG_LOADED"})},isImgLoaded:r,src:n})]})},X=u.b.form(L||(L=Object(a.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),V=u.b.input(D||(D=Object(a.a)(["\n  margin-bottom: 1.25rem;\n  padding: 8px 11px;\n  border: 1px solid #cccccc;\n  border-radius: 3px;\n"]))),z=u.b.button(G||(G=Object(a.a)(["\n  margin-bottom: 1.25rem;\n  padding: 8px 11px;\n  border: none;\n  border-radius: 3px;\n  background: #4997d0;\n  color: white;\n  cursor: pointer;\n"]))),J=function(){var e=Object(f.b)();return Object(b.jsxs)(X,{onSubmit:function(n){n.preventDefault(),e({type:"ADD_COMMENT",payload:{id:123,text:"".concat(n.target.name.value?n.target.name.value+": "+n.target.comment.value:n.target.comment.value),date:Date.now()}})},children:[Object(b.jsx)(V,{type:"text",name:"name",placeholder:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f"}),Object(b.jsx)(V,{type:"text",name:"comment",required:!0,placeholder:"\u0412\u0430\u0448 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"}),Object(b.jsx)(z,{type:"submit",children:"\u041e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"})]})},H=u.b.li(A||(A=Object(a.a)(["\n  display: flex;\n  flex-direction: column;\n  font-size: 13px;\n  margin-bottom: 0.3rem;\n  &::last-child {\n    margin-bottom: 0;\n  }\n"]))),U=u.b.p(M||(M=Object(a.a)(["\n  color: #999999;\n"]))),q=function(e){var n=new Date(e).toJSON().slice(0,10);return n.slice(8,10)+"."+n.slice(5,7)+"."+n.slice(0,4)},W=function(e){var n=e.comment;return Object(b.jsxs)(H,{children:[Object(b.jsx)(U,{children:q(n.date)}),Object(b.jsx)("p",{children:n.text})]})},Y=u.b.ul(k||(k=Object(a.a)(["\n  display: flex;\n  flex-direction: column;\n  font-size: 13px;\n"]))),K=function(e){var n=e.comments;return Object(b.jsx)(Y,{children:n.length?n.map((function(e,n){return Object(b.jsx)(W,{comment:e},n)})):Object(b.jsx)("p",{style:{color:"#999999"},children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432 \u043d\u0435\u0442"})})};function Q(){return(Q=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function Z(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},c=Object.keys(e);for(r=0;r<c.length;r++)t=c[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)t=c[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function $(e,n){var t=e.title,r=e.titleId,i=Z(e,["title","titleId"]);return o.createElement("svg",Q({viewBox:"0 0 20 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},i),t?o.createElement("title",{id:r},t):null,S||(S=o.createElement("line",{x1:1.35355,y1:.646447,x2:19.3536,y2:18.6464,stroke:"black"})),N||(N=o.createElement("line",{x1:.646447,y1:18.6464,x2:18.6464,y2:.646446,stroke:"black"})))}var ee,ne,te,re,ie=o.forwardRef($),ce=(t.p,u.b.div(ee||(ee=Object(a.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"])))),ae=u.b.div(ne||(ne=Object(a.a)(["\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  background-color: #000000db;\n  cursor: pointer;\n"]))),oe=u.b.div(te||(te=Object(a.a)(["\n  position: relative;\n  background: white;\n  padding: 1.5rem;\n  display: flex;\n  justify-content: center;\n  width: 75%;\n  z-index: 2;\n  .col-1 {\n    flex: 1.5;\n    margin-right: 1rem;\n  }\n  .col-2 {\n    flex: 1;\n  }\n"]))),le=u.b.div(re||(re=Object(a.a)(["\n  position: absolute;\n  top: 1rem;\n  right: 1rem;\n  width: 1.125rem;\n  height: 1.125rem;\n  cursor: pointer;\n"])));function se(e){e({type:"CLOSE_MODAL"})}var de,ue=function(){var e=Object(f.b)(),n=Object(f.c)((function(e){return e.modal})),t=n.modalImages[n.currentImgIndex];return Object(b.jsxs)(ce,{children:[Object(b.jsx)(ae,{onClick:se.bind(null,e)}),Object(b.jsx)(oe,{children:n.isLoading?Object(b.jsx)(T,{}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"col-1",children:[Object(b.jsx)(F,{url:t.url}),Object(b.jsx)(J,{})]}),Object(b.jsx)("div",{className:"col-2",children:Object(b.jsx)(K,{comments:t.comments})}),Object(b.jsx)(le,{onClick:se.bind(null,e),children:Object(b.jsx)(ie,{})})]})})]})},be=u.b.div(de||(de=Object(a.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  margin: 0 auto;\n  max-width: 95%;\n  height: 100%;\n"])));var Oe=function(){var e=Object(f.c)((function(e){return e.modal.isOpen}));return Object(b.jsxs)(be,{children:[Object(b.jsx)(j,{children:"Test App"}),Object(b.jsx)(C,{}),e&&Object(b.jsx)(ue,{}),Object(b.jsx)(p,{children:"\xa9 2018-2019"})]})},je=t(6),me=t(18),pe=t(5),fe={modalImages:[],isOpen:!1,isLoading:!0,currentImgIndex:null},ge={images:[],isLoading:!1};var he,xe=Object(je.c)({imagesState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_IMAGES":return Object(pe.a)(Object(pe.a)({},e),{},{images:n.payload});case"TOGGLE_IMAGES_LOADING":return Object(pe.a)(Object(pe.a)({},e),{},{isLoading:!e.isLoading});default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,n=arguments.length>1?arguments[1]:void 0,t=n.type,r=n.payload;switch(t){case"OPEN_MODAL_FROM_SERVER":return Object(pe.a)(Object(pe.a)({},e),{},{modalImages:[].concat(Object(me.a)(e.modalImages),[r.image]),isOpen:!0,isLoading:!0,currentImgIndex:r.index});case"OPEN_MODAL_FROM_CACHE":return Object(pe.a)(Object(pe.a)({},e),{},{isOpen:!0,isLoading:!0,currentImgIndex:r});case"CLOSE_MODAL":return Object(pe.a)(Object(pe.a)({},e),{},{isOpen:!1});case"TOGGLE_MODAL_LOADING":return Object(pe.a)(Object(pe.a)({},e),{},{isLoading:!e.isLoading});case"ADD_COMMENT":var i=Object(pe.a)({},e);return i.modalImages[e.currentImgIndex].comments.push(r),i;default:return e}},bigImage:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"BIG_IMG_LOADED":return!0;case"BIG_IMG_NOT_LOADED":return!1;default:return e}}}),ye=t(17),ve=Object(u.a)(he||(he=Object(a.a)(["\n  html, body {\n    height: 100%;\n    margin: 0;\n    padding: 0;\n    font-family: 'Roboto', sans-serif;\n  }\n  h1, h2, h3, h4, p {\n    padding: 0;\n    margin: 0;\n  }\n  ul, li {\n    list-style:none;\n    margin: 0;\n    padding: 0;\n  }\n  #root {\n    height: 100%;\n  }\n"]))),_e=Object(je.d)(xe,Object(je.a)(ye.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());d.a.render(Object(b.jsx)(l.a.StrictMode,{children:Object(b.jsxs)(f.a,{store:_e,children:[Object(b.jsx)(ve,{}),Object(b.jsx)(Oe,{})]})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.0a6e0e7b.chunk.js.map