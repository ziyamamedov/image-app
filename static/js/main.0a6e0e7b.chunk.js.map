{"version":3,"sources":["components/Header.js","components/Footer.js","components/ImageItem.js","icons/Loading.svg","redux/actions.js","icons/Close.svg","components/ImageLitst.js","components/modal/BigImage.js","components/modal/CommentForm.js","components/modal/CommentItem.js","components/modal/CommentList.js","components/modal/Modal.js","App.js","redux/reducers.js","index.js"],"names":["StyledHeader","styled","header","Header","children","StyledFooter","footer","Footer","_circle","StyledImageItem","li","clickHandler","id","disp","modalImages","found","forEach","elem","index","console","log","type","payload","openModalFromCacheAction","fetch","then","response","json","image","openModalFromServerAction","length","ImageItem","url","dispatch","useDispatch","useSelector","store","modal","onClick","bind","src","alt","_extends","Object","assign","target","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgLoading","_ref","svgRef","title","titleId","props","xmlns","xmlnsXlink","style","margin","background","display","shapeRendering","width","height","viewBox","preserveAspectRatio","ref","cx","cy","fill","stroke","strokeWidth","r","strokeDasharray","attributeName","repeatCount","dur","values","keyTimes","_line","_line2","ForwardRef","StyledImageList","ul","ImageList","imagesState","useEffect","images","setImages","isLoading","map","StyledBigImage","img","isImgLoaded","divStyle","justifyContent","alignItems","BigImage","bigImage","onLoad","StyledCommentForm","form","StyledInput","input","StyledButton","button","CommentForm","onSubmit","e","preventDefault","text","name","value","comment","date","Date","now","placeholder","required","StyledCommentItem","CommentDate","p","getDate","dateMs","toJSON","slice","CommentItem","StyledCommentList","CommentList","comments","idx","color","SvgClose","x1","y1","x2","y2","StyledModal","div","ModalBackground","ModalWindow","StyledClsBtn","closeModal","Modal","modalState","currentImage","currentImgIndex","className","StyledApp","App","isModal","state","isOpen","allReducers","combineReducers","action","newState","push","GlobalStyles","createGlobalStyle","createStore","applyMiddleware","thunk","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0a6e0e7b.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\n\r\nconst StyledHeader = styled.header`\r\n  text-align: center;\r\n  text-transform: uppercase;\r\n  font-family: \"Roboto Condensed\", sans-serif;\r\n  padding: 1rem 0;\r\n`;\r\n\r\nconst Header = ({ children }) => {\r\n  return (\r\n    <StyledHeader>\r\n      <h1>{children}</h1>\r\n    </StyledHeader>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import styled from \"styled-components\";\r\n\r\nconst StyledFooter = styled.footer`\r\n  text-align: center;\r\n  font-family: \"Roboto Condensed\", sans-serif;\r\n\r\n  padding: 1rem 0;\r\n  color: #ccc;\r\n  border-top: 1px solid #ccc;\r\n`;\r\n\r\nconst Footer = ({ children }) => {\r\n  return <StyledFooter>{children}</StyledFooter>;\r\n};\r\n\r\nexport default Footer;\r\n","import { useDispatch, useSelector } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\nimport {\r\n  openModalFromServerAction,\r\n  openModalFromCacheAction,\r\n  toggleModalLoadingAction,\r\n  bigImgNotLoaded,\r\n} from \"../redux/actions\";\r\n\r\nconst StyledImageItem = styled.li`\r\n  margin: 0.5rem 0.5rem;\r\n  cursor: pointer;\r\n  img {\r\n    display: block;\r\n    max-width: 100%;\r\n  }\r\n`;\r\n\r\nconst clickHandler = (id, disp, modalImages) => {\r\n  let found = false;\r\n  modalImages.forEach((elem, index) => {\r\n    if (elem.id === id) {\r\n      found = true;\r\n      console.log(\"from cache\", elem);\r\n      disp(openModalFromCacheAction(index));\r\n      disp(bigImgNotLoaded());\r\n      disp(toggleModalLoadingAction());\r\n      return;\r\n    }\r\n  });\r\n\r\n  if (!found) {\r\n    fetch(`https://boiling-refuge-66454.herokuapp.com/images/${id}`)\r\n      .then((response) => response.json())\r\n      .then((image) => {\r\n        console.log(\"from server \", image);\r\n        disp(openModalFromServerAction(image, modalImages.length));\r\n        disp(bigImgNotLoaded());\r\n        disp(toggleModalLoadingAction());\r\n      });\r\n  }\r\n};\r\n\r\nconst ImageItem = ({ url, id }) => {\r\n  const dispatch = useDispatch();\r\n  const modalImages = useSelector((store) => store.modal.modalImages);\r\n\r\n  return (\r\n    <StyledImageItem\r\n      onClick={clickHandler.bind(null, id, dispatch, modalImages)}\r\n    >\r\n      <img src={url} alt=\"just a beautiful\" />\r\n    </StyledImageItem>\r\n  );\r\n};\r\n\r\nexport default ImageItem;\r\n","var _circle;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLoading(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    style: {\n      margin: \"auto\",\n      background: \"rgb(241, 242, 243)\",\n      display: \"block\",\n      shapeRendering: \"auto\"\n    },\n    width: \"200px\",\n    height: \"200px\",\n    viewBox: \"0 0 100 100\",\n    preserveAspectRatio: \"xMidYMid\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 50,\n    cy: 50,\n    fill: \"none\",\n    stroke: \"#57d1de\",\n    strokeWidth: 10,\n    r: 35,\n    strokeDasharray: \"164.93361431346415 56.97787143782138\"\n  }, /*#__PURE__*/React.createElement(\"animateTransform\", {\n    attributeName: \"transform\",\n    type: \"rotate\",\n    repeatCount: \"indefinite\",\n    dur: \"1s\",\n    values: \"0 50 50;360 50 50\",\n    keyTimes: \"0;1\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLoading);\nexport default __webpack_public_path__ + \"static/media/Loading.18ce4191.svg\";\nexport { ForwardRef as ReactComponent };","//This action wil set initial images from server\r\nexport function setImages(images) {\r\n  return { type: \"SET_IMAGES\", payload: images };\r\n}\r\n//This will toggle loading animation on the image list\r\nexport function toggleImagesLoadingAction() {\r\n  return { type: \"TOGGLE_IMAGES_LOADING\" };\r\n}\r\n\r\n/////////Modal actions///////\r\n//This action opens a modal with image downloaded from server\r\nexport function openModalFromServerAction(image, index) {\r\n  return { type: \"OPEN_MODAL_FROM_SERVER\", payload: { image, index } };\r\n}\r\n//This will open modal with an image that had been previously opened\r\nexport function openModalFromCacheAction(index) {\r\n  return { type: \"OPEN_MODAL_FROM_CACHE\", payload: index };\r\n}\r\n//Closing Modal\r\nexport function closeModalAction() {\r\n  return { type: \"CLOSE_MODAL\" };\r\n}\r\n//Enables and disables loading anim in modal\r\nexport function toggleModalLoadingAction() {\r\n  return { type: \"TOGGLE_MODAL_LOADING\" };\r\n}\r\n//Disables loading anim on a big image\r\nexport function bigImgLoaded() {\r\n  return { type: \"BIG_IMG_LOADED\" };\r\n}\r\n//Enables loading anim on a big image\r\nexport function bigImgNotLoaded() {\r\n  return { type: \"BIG_IMG_NOT_LOADED\" };\r\n}\r\n//Adding a comment to the image\r\nexport function addCommentAction(comment) {\r\n  return { type: \"ADD_COMMENT\", payload: comment };\r\n}\r\n","var _line, _line2;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgClose(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 19\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 1.35355,\n    y1: 0.646447,\n    x2: 19.3536,\n    y2: 18.6464,\n    stroke: \"black\"\n  })), _line2 || (_line2 = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 0.646447,\n    y1: 18.6464,\n    x2: 18.6464,\n    y2: 0.646446,\n    stroke: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgClose);\nexport default __webpack_public_path__ + \"static/media/Close.371b0e9a.svg\";\nexport { ForwardRef as ReactComponent };","import styled from \"styled-components\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport ImageItem from \"./ImageItem\";\r\nimport { useEffect } from \"react\";\r\nimport { setImages, toggleImagesLoadingAction } from \"../redux/actions\";\r\nimport { ReactComponent as LoadingSvg } from \"../icons/Loading.svg\";\r\n\r\nconst StyledImageList = styled.ul`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n  padding-bottom: 2rem;\r\n`;\r\n\r\nconst ImageList = () => {\r\n  const imagesState = useSelector((store) => store.imagesState);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(toggleImagesLoadingAction());\r\n\r\n    fetch(\"https://boiling-refuge-66454.herokuapp.com/images\")\r\n      .then((response) => response.json())\r\n      .then((images) => {\r\n        dispatch(setImages(images));\r\n        dispatch(toggleImagesLoadingAction());\r\n      });\r\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  return (\r\n    <StyledImageList>\r\n      {imagesState.isLoading ? (\r\n        <LoadingSvg />\r\n      ) : (\r\n        imagesState.images.map((image) => (\r\n          <ImageItem url={image.url} key={image.id} id={image.id} />\r\n        ))\r\n      )}\r\n    </StyledImageList>\r\n  );\r\n};\r\n\r\nexport default ImageList;\r\n","import { useDispatch, useSelector } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\nimport { ReactComponent as LoadingSvg } from \"../../icons/Loading.svg\";\r\nimport { bigImgLoaded } from \"../../redux/actions\";\r\n\r\nconst StyledBigImage = styled.img`\r\n  max-width: 100%;\r\n  min-width: 320px;\r\n  margin-bottom: 1.8125rem;\r\n  display: ${(props) => (props.isImgLoaded ? \"block\" : \"none\")};\r\n`;\r\n\r\nconst divStyle = {\r\n  display: \"flex\",\r\n  justifyContent: \"center\",\r\n  alignItems: \"center\",\r\n};\r\n\r\nconst BigImage = ({ url }) => {\r\n  const disp = useDispatch();\r\n  const isImgLoaded = useSelector((store) => store.bigImage);\r\n\r\n  return (\r\n    <div style={divStyle}>\r\n      <LoadingSvg style={{ display: isImgLoaded && \"none\" }} />\r\n      <StyledBigImage\r\n        onLoad={() => {\r\n          disp(bigImgLoaded());\r\n        }}\r\n        isImgLoaded={isImgLoaded}\r\n        src={url}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BigImage;\r\n","import { useDispatch } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\nimport { addCommentAction } from \"../../redux/actions\";\r\n\r\nconst StyledCommentForm = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst StyledInput = styled.input`\r\n  margin-bottom: 1.25rem;\r\n  padding: 8px 11px;\r\n  border: 1px solid #cccccc;\r\n  border-radius: 3px;\r\n`;\r\n\r\nconst StyledButton = styled.button`\r\n  margin-bottom: 1.25rem;\r\n  padding: 8px 11px;\r\n  border: none;\r\n  border-radius: 3px;\r\n  background: #4997d0;\r\n  color: white;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst CommentForm = () => {\r\n  const disp = useDispatch();\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    disp(\r\n      addCommentAction({\r\n        id: 123,\r\n        text: `${\r\n          e.target.name.value\r\n            ? e.target.name.value + \": \" + e.target.comment.value\r\n            : e.target.comment.value\r\n        }`,\r\n        date: Date.now(),\r\n      })\r\n    );\r\n  };\r\n\r\n  return (\r\n    <StyledCommentForm onSubmit={submitHandler}>\r\n      <StyledInput type=\"text\" name=\"name\" placeholder=\"Ваше имя\" />\r\n      <StyledInput\r\n        type=\"text\"\r\n        name=\"comment\"\r\n        required\r\n        placeholder=\"Ваш комментарий\"\r\n      />\r\n      <StyledButton type=\"submit\">Оставить комментарий</StyledButton>\r\n    </StyledCommentForm>\r\n  );\r\n};\r\n\r\nexport default CommentForm;\r\n","import styled from \"styled-components\";\r\n\r\nconst StyledCommentItem = styled.li`\r\n  display: flex;\r\n  flex-direction: column;\r\n  font-size: 13px;\r\n  margin-bottom: 0.3rem;\r\n  &::last-child {\r\n    margin-bottom: 0;\r\n  }\r\n`;\r\nconst CommentDate = styled.p`\r\n  color: #999999;\r\n`;\r\n\r\n//This func takes date in ms and returns it in dd.mm.yyyy\r\nconst getDate = (dateMs) => {\r\n  let today = new Date(dateMs);\r\n  var date = today.toJSON().slice(0, 10);\r\n  return date.slice(8, 10) + \".\" + date.slice(5, 7) + \".\" + date.slice(0, 4);\r\n};\r\n\r\nconst CommentItem = ({ comment }) => {\r\n  return (\r\n    <StyledCommentItem>\r\n      <CommentDate>{getDate(comment.date)}</CommentDate>\r\n      <p>{comment.text}</p>\r\n    </StyledCommentItem>\r\n  );\r\n};\r\n\r\nexport default CommentItem;\r\n","import styled from \"styled-components\";\r\nimport CommentItem from \"./CommentItem\";\r\n\r\nconst StyledCommentList = styled.ul`\r\n  display: flex;\r\n  flex-direction: column;\r\n  font-size: 13px;\r\n`;\r\n\r\nconst CommentList = ({ comments }) => {\r\n  return (\r\n    <StyledCommentList>\r\n      {comments.length ? (\r\n        comments.map((comment, idx) => (\r\n          <CommentItem key={idx} comment={comment} />\r\n        ))\r\n      ) : (\r\n        <p style={{ color: \"#999999\" }}>Комментариев нет</p>\r\n      )}\r\n    </StyledCommentList>\r\n  );\r\n};\r\n\r\nexport default CommentList;\r\n","import { useDispatch, useSelector } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\nimport BigImage from \"./BigImage\";\r\nimport CommentForm from \"./CommentForm\";\r\nimport CommentList from \"./CommentList\";\r\nimport { closeModalAction } from \"../../redux/actions\";\r\nimport { ReactComponent as CloeSvg } from \"../../icons/Close.svg\";\r\nimport { ReactComponent as LoadingSvg } from \"../../icons/Loading.svg\";\r\n\r\nconst StyledModal = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\nconst ModalBackground = styled.div`\r\n  position: fixed;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: #000000db;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst ModalWindow = styled.div`\r\n  position: relative;\r\n  background: white;\r\n  padding: 1.5rem;\r\n  display: flex;\r\n  justify-content: center;\r\n  width: 75%;\r\n  z-index: 2;\r\n  .col-1 {\r\n    flex: 1.5;\r\n    margin-right: 1rem;\r\n  }\r\n  .col-2 {\r\n    flex: 1;\r\n  }\r\n`;\r\nconst StyledClsBtn = styled.div`\r\n  position: absolute;\r\n  top: 1rem;\r\n  right: 1rem;\r\n  width: 1.125rem;\r\n  height: 1.125rem;\r\n  cursor: pointer;\r\n`;\r\n\r\nfunction closeModal(dispatch) {\r\n  dispatch(closeModalAction());\r\n}\r\n\r\nconst Modal = () => {\r\n  const dispatch = useDispatch();\r\n  const modalState = useSelector((store) => store.modal);\r\n  const currentImage = modalState.modalImages[modalState.currentImgIndex];\r\n  return (\r\n    <StyledModal>\r\n      <ModalBackground onClick={closeModal.bind(null, dispatch)} />\r\n      <ModalWindow>\r\n        {modalState.isLoading ? (\r\n          <LoadingSvg />\r\n        ) : (\r\n          <>\r\n            <div className=\"col-1\">\r\n              <BigImage url={currentImage.url} />\r\n              <CommentForm></CommentForm>\r\n            </div>\r\n            <div className=\"col-2\">\r\n              <CommentList comments={currentImage.comments} />\r\n            </div>\r\n            <StyledClsBtn onClick={closeModal.bind(null, dispatch)}>\r\n              <CloeSvg />\r\n            </StyledClsBtn>\r\n          </>\r\n        )}\r\n      </ModalWindow>\r\n    </StyledModal>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import styled from \"styled-components\";\nimport Header from \"./components/Header\";\nimport Footer from \"./components/Footer\";\n\nimport ImageList from \"./components/ImageLitst\";\nimport Modal from \"./components/modal/Modal\";\nimport { useSelector } from \"react-redux\";\n\nconst StyledApp = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  margin: 0 auto;\n  max-width: 95%;\n  height: 100%;\n`;\n\nfunction App() {\n  const isModal = useSelector((state) => state.modal.isOpen);\n\n  return (\n    <StyledApp>\n      <Header>Test App</Header>\n      <ImageList></ImageList>\n      {isModal && <Modal />}\n      <Footer>© 2018-2019</Footer>\n    </StyledApp>\n  );\n}\n\nexport default App;\n","import { combineReducers } from \"redux\";\r\n\r\nconst modal = {\r\n  modalImages: [],\r\n  isOpen: false,\r\n  isLoading: true,\r\n  currentImgIndex: null,\r\n};\r\nconst imagesState = { images: [], isLoading: false };\r\n\r\nfunction imagesReducer(state = imagesState, action) {\r\n  switch (action.type) {\r\n    case \"SET_IMAGES\":\r\n      return { ...state, images: action.payload };\r\n    case \"TOGGLE_IMAGES_LOADING\":\r\n      return { ...state, isLoading: !state.isLoading };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction modalReducer(state = modal, { type, payload }) {\r\n  switch (type) {\r\n    case \"OPEN_MODAL_FROM_SERVER\":\r\n      return {\r\n        ...state,\r\n        modalImages: [...state.modalImages, payload.image],\r\n        isOpen: true,\r\n        isLoading: true,\r\n        currentImgIndex: payload.index,\r\n      };\r\n    case \"OPEN_MODAL_FROM_CACHE\":\r\n      return {\r\n        ...state,\r\n        isOpen: true,\r\n        isLoading: true,\r\n        currentImgIndex: payload,\r\n      };\r\n    case \"CLOSE_MODAL\":\r\n      return { ...state, isOpen: false };\r\n    case \"TOGGLE_MODAL_LOADING\":\r\n      return { ...state, isLoading: !state.isLoading };\r\n    case \"ADD_COMMENT\":\r\n      let newState = { ...state };\r\n      newState.modalImages[state.currentImgIndex].comments.push(payload);\r\n      return newState;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction bigImageReducer(state = false, action) {\r\n  switch (action.type) {\r\n    case \"BIG_IMG_LOADED\":\r\n      return true;\r\n    case \"BIG_IMG_NOT_LOADED\":\r\n      return false;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const allReducers = combineReducers({\r\n  imagesState: imagesReducer,\r\n  modal: modalReducer,\r\n  bigImage: bigImageReducer,\r\n});\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport { createGlobalStyle } from \"styled-components\";\nimport { applyMiddleware, createStore } from \"redux\";\nimport { allReducers } from \"./redux/reducers\";\nimport thunk from \"redux-thunk\";\n\nconst GlobalStyles = createGlobalStyle`\n  html, body {\n    height: 100%;\n    margin: 0;\n    padding: 0;\n    font-family: 'Roboto', sans-serif;\n  }\n  h1, h2, h3, h4, p {\n    padding: 0;\n    margin: 0;\n  }\n  ul, li {\n    list-style:none;\n    margin: 0;\n    padding: 0;\n  }\n  #root {\n    height: 100%;\n  }\n`;\n\nconst store = createStore(\n  allReducers,\n  applyMiddleware(thunk),\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <GlobalStyles />\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}