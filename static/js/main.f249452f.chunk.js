(this["webpackJsonpavito-trainee-test"]=this["webpackJsonpavito-trainee-test"]||[]).push([[0],{24:function(e,n,t){},33:function(e,n,t){"use strict";t.r(n);var r,i,c=t(2),o=t(0),a=t.n(o),s=t(9),l=t.n(s),d=(t(24),t(3)),u=t(1),b=d.b.header(r||(r=Object(c.a)(['\n  text-align: center;\n  text-transform: uppercase;\n  font-family: "Roboto Condensed", sans-serif;\n  padding: 1rem 0;\n']))),m=function(e){var n=e.children;return Object(u.jsx)(b,{children:Object(u.jsx)("h1",{children:n})})},p=d.b.footer(i||(i=Object(c.a)(['\n  text-align: center;\n  font-family: "Roboto Condensed", sans-serif;\n\n  padding: 1rem 0;\n  color: #ccc;\n  border-top: 1px solid #ccc;\n']))),h=function(e){var n=e.children;return Object(u.jsx)(p,{children:n})},j=t(4),f="SET_IMAGES",O="TOGGLE_IMAGES_LOADING",g="OPEN_MODAL_FROM_SERVER",x="OPEN_MODAL_FROM_CACHE",v="CLOSE_MODAL",y="TOGGLE_MODAL_LOADING",w="BIG_IMG_LOADED",I="BIG_IMG_NOT_LOADED",E="ADD_COMMENT",k="TOGGLE_RESPONSIVE";function L(){return{type:O}}function M(){return{type:y}}function _(){return{type:I}}function D(){return function(e){e(L()),fetch("https://boiling-refuge-66454.herokuapp.com/images").then((function(e){return e.json()})).then((function(n){e(function(e){return{type:f,payload:e}}(n)),e(L())})).catch((function(e){console.log(e)}))}}var S,A,G=function(e,n){return function(t){fetch("https://boiling-refuge-66454.herokuapp.com/images/".concat(e)).then((function(e){return e.json()})).then((function(e){t(function(e,n){return{type:g,payload:{image:e,index:n}}}(e,n.length)),t(_()),t(M())}))}},R=d.b.li(S||(S=Object(c.a)(["\n  margin: 0.5rem 0.5rem;\n  cursor: pointer;\n  img {\n    display: block;\n    max-width: 100%;\n  }\n"]))),N=function(e,n,t){var r=!1;t.forEach((function(t,i){if(t.id===e)return r=!0,n(function(e){return{type:x,payload:e}}(i)),n(_()),void n(M())})),r||n(G(e,t))},C=function(e){var n=e.url,t=e.id,r=Object(j.b)(),i=Object(j.c)((function(e){return e.modal.modalImages}));return Object(u.jsx)(R,{onClick:N.bind(null,t,r,i),children:Object(u.jsx)("img",{src:n,alt:"just a beautiful"})})};function T(){return(T=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function P(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},c=Object.keys(e);for(r=0;r<c.length;r++)t=c[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)t=c[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function B(e,n){var t=e.title,r=e.titleId,i=P(e,["title","titleId"]);return o.createElement("svg",T({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{margin:"auto",background:"rgb(241, 242, 243)",display:"block",shapeRendering:"auto"},width:"200px",height:"200px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",ref:n,"aria-labelledby":r},i),t?o.createElement("title",{id:r},t):null,A||(A=o.createElement("circle",{cx:50,cy:50,fill:"none",stroke:"#57d1de",strokeWidth:10,r:35,strokeDasharray:"164.93361431346415 56.97787143782138"},o.createElement("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",dur:"1s",values:"0 50 50;360 50 50",keyTimes:"0;1"}))))}var z,F,J,V,W,q,H,X,Y,K,Q,U=o.forwardRef(B),Z=(t.p,d.b.ul(z||(z=Object(c.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  padding-bottom: 2rem;\n"])))),$=function(){var e=Object(j.c)((function(e){return e.imagesState})),n=Object(j.b)();return Object(o.useEffect)((function(){n(D())}),[]),Object(u.jsx)(Z,{children:e.isLoading?Object(u.jsx)(U,{}):e.images.map((function(e){return Object(u.jsx)(C,{url:e.url,id:e.id},e.id)}))})},ee=d.b.img(F||(F=Object(c.a)(["\n  max-width: 100%;\n\n  display: ",";\n"])),(function(e){return e.isImgLoaded?"block":"none"})),ne=d.b.div(J||(J=Object(c.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: ",";\n  width: ",";\n"])),(function(e){return e.media.phones?"1rem":"2rem"}),(function(e){return e.media.phones&&"100%"})),te=function(e){var n=e.url,t=Object(j.b)(),r=Object(j.c)((function(e){return e.bigImage})),i=Object(j.c)((function(e){return e.responsive}));return Object(u.jsxs)(ne,{media:i,children:[Object(u.jsx)(U,{style:{display:r&&"none"}}),Object(u.jsx)(ee,{onLoad:function(){t({type:w})},isImgLoaded:r,src:n})]})},re=d.b.form(V||(V=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 0 ",";\n"])),(function(e){return e.phones&&"1.5rem"})),ie=d.b.input(W||(W=Object(c.a)(["\n  margin-bottom: 1.25rem;\n  padding: 8px 11px;\n  border: 1px solid #cccccc;\n  border-radius: 3px;\n"]))),ce=d.b.button(q||(q=Object(c.a)(["\n  margin-bottom: 1.25rem;\n  padding: 8px 11px;\n  border: none;\n  border-radius: 3px;\n  background: #4997d0;\n  color: white;\n  cursor: pointer;\n"]))),oe=function(){var e=Object(j.b)(),n=Object(j.c)((function(e){return e.responsive.phones}));return Object(u.jsxs)(re,{phones:n,onSubmit:function(n){var t;n.preventDefault(),e((t={id:123,text:"".concat(n.target.name.value?n.target.name.value+": "+n.target.comment.value:n.target.comment.value),date:Date.now()},{type:E,payload:t})),n.target.reset()},children:[Object(u.jsx)(ie,{type:"text",name:"name",placeholder:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f"}),Object(u.jsx)(ie,{type:"text",name:"comment",required:!0,placeholder:"\u0412\u0430\u0448 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"}),Object(u.jsx)(ce,{type:"submit",children:"\u041e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"})]})},ae=d.b.li(H||(H=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  font-size: 13px;\n  margin-bottom: 0.3rem;\n  &:last-child {\n    margin-bottom: 0;\n  }\n"]))),se=d.b.p(X||(X=Object(c.a)(["\n  color: #999999;\n"]))),le=function(e){var n=new Date(e).toJSON().slice(0,10);return n.slice(8,10)+"."+n.slice(5,7)+"."+n.slice(0,4)},de=function(e){var n=e.comment;return Object(u.jsxs)(ae,{children:[Object(u.jsx)(se,{children:le(n.date)}),Object(u.jsx)("p",{children:n.text})]})},ue=d.b.ul(Y||(Y=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  font-size: 13px;\n  padding: 0 ",";\n  margin-bottom: ",";\n  height: ",";\n  overflow: auto;\n"])),(function(e){return e.phones&&"1.5rem"}),(function(e){return e.phones&&"1rem"}),(function(e){return e.phones?"7.5rem":"21rem"})),be=function(e){var n=e.comments,t=Object(j.c)((function(e){return e.responsive.phones}));return Object(u.jsx)(ue,{phones:t,children:n.length?n.map((function(e,n){return Object(u.jsx)(de,{comment:e},n)})):Object(u.jsx)("p",{style:{color:"#999999"},children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432 \u043d\u0435\u0442"})})};function me(){return(me=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function pe(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},c=Object.keys(e);for(r=0;r<c.length;r++)t=c[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)t=c[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function he(e,n){var t=e.title,r=e.titleId,i=pe(e,["title","titleId"]);return o.createElement("svg",me({viewBox:"0 0 20 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},i),t?o.createElement("title",{id:r},t):null,K||(K=o.createElement("line",{x1:1.35355,y1:.646447,x2:19.3536,y2:18.6464,stroke:"black"})),Q||(Q=o.createElement("line",{x1:.646447,y1:18.6464,x2:18.6464,y2:.646446,stroke:"black"})))}var je,fe,Oe,ge,xe=o.forwardRef(he),ve=(t.p,d.b.div(je||(je=Object(c.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"])))),ye=d.b.div(fe||(fe=Object(c.a)(["\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  background-color: #000000db;\n  cursor: pointer;\n"]))),we=d.b.div(Oe||(Oe=Object(c.a)(["\n  position: relative;\n  background: white;\n  padding: ",";\n  display: flex;\n  justify-content: center;\n  width: ",";\n\n  z-index: 2;\n\n  ","\n  .col-1 {\n    flex: 1.5;\n    margin-right: ",";\n  }\n  .col-2 {\n    flex: 1;\n  }\n"])),(function(e){return!e.media.phones&&"1.5rem"}),(function(e){var n=e.media;return n.tablets?"85%":n.phones?"100%":"75%"}),(function(e){return e.media.phones&&"width: 100%; min-height: 100%;"}),(function(e){return!e.media.phones&&"1rem"})),Ie=d.b.div(ge||(ge=Object(c.a)(["\n  position: absolute;\n  top: 1rem;\n  right: 1rem;\n  width: 1.125rem;\n  height: 1.125rem;\n  cursor: pointer;\n"])));function Ee(e){e({type:v})}var ke,Le=function(){var e=Object(j.b)(),n=Object(j.c)((function(e){return e.modal})),t=Object(j.c)((function(e){return e.responsive})),r=n.modalImages[n.currentImgIndex];return Object(u.jsxs)(ve,{children:[Object(u.jsx)(ye,{onClick:Ee.bind(null,e)}),Object(u.jsx)(we,{media:t,children:n.isLoading?Object(u.jsx)(U,{}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"col-1",children:[Object(u.jsx)(te,{url:r.url}),t.phones&&Object(u.jsx)(be,{comments:r.comments}),Object(u.jsx)(oe,{})]}),!t.phones&&Object(u.jsx)("div",{className:"col-2",children:Object(u.jsx)(be,{comments:r.comments})}),Object(u.jsx)(Ie,{onClick:Ee.bind(null,e),children:Object(u.jsx)(xe,{})})]})})]})},Me=d.b.div(ke||(ke=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  margin: 0 auto;\n  max-width: 95%;\n  height: 100%;\n  overflow: ",";\n"])),(function(e){return e.isModal&&"hidden"})),_e=function(e){e({type:k})},De=window.matchMedia("(max-width: 480px)"),Se=window.matchMedia("(min-width: 768px)");var Ae=function(){var e=Object(j.c)((function(e){return e.modal.isOpen})),n=Object(j.b)();return Object(o.useEffect)((function(){De.addEventListener("change",_e.bind(null,n)),Se.addEventListener("change",_e.bind(null,n))}),[]),Object(u.jsxs)(Me,{isModal:e,children:[Object(u.jsx)(m,{children:"Test App"}),Object(u.jsx)($,{}),e&&Object(u.jsx)(Le,{}),Object(u.jsx)(h,{children:"\xa9 2018-2019"})]})},Ge=t(6),Re=t(19),Ne=t(5),Ce={modalImages:[],isOpen:!1,isLoading:!0,currentImgIndex:null},Te={images:[],isLoading:!1},Pe={phones:window.matchMedia("(max-width: 480px)").matches,tablets:window.matchMedia("(max-width: 767px) and (min-width: 481px)").matches,desktop:window.matchMedia("(min-width: 768px)").matches};var Be,ze=Object(Ge.combineReducers)({imagesState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case f:return Object(Ne.a)(Object(Ne.a)({},e),{},{images:n.payload});case O:return Object(Ne.a)(Object(Ne.a)({},e),{},{isLoading:!e.isLoading});default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,n=arguments.length>1?arguments[1]:void 0,t=n.type,r=n.payload;switch(t){case g:return Object(Ne.a)(Object(Ne.a)({},e),{},{modalImages:[].concat(Object(Re.a)(e.modalImages),[r.image]),isOpen:!0,isLoading:!0,currentImgIndex:r.index});case x:return Object(Ne.a)(Object(Ne.a)({},e),{},{isOpen:!0,isLoading:!0,currentImgIndex:r});case v:return Object(Ne.a)(Object(Ne.a)({},e),{},{isOpen:!1});case y:return Object(Ne.a)(Object(Ne.a)({},e),{},{isLoading:!e.isLoading});case E:var i=Object(Ne.a)({},e);return i.modalImages[e.currentImgIndex].comments.push(r),i;default:return e}},bigImage:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case w:return!0;case I:return!1;default:return e}},responsive:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case k:return{phones:window.matchMedia("(max-width: 480px)").matches,tablets:window.matchMedia("(max-width: 767px) and (min-width: 481px)").matches,desktop:window.matchMedia("(min-width: 768px)").matches};default:return e}}}),Fe=t(17),Je=t(18),Ve=Object(d.a)(Be||(Be=Object(c.a)(["\n* {\n  box-sizing: border-box;\n}\n  html, body {\n    height: 100%;\n    margin: 0;\n    padding: 0;\n    font-family: 'Roboto', sans-serif;\n  }\n  h1, h2, h3, h4, p {\n    padding: 0;\n    margin: 0;\n  }\n  ul, li {\n    list-style:none;\n    margin: 0;\n    padding: 0;\n  }\n  #root {\n    height: 100%;\n  }\n"]))),We=Object(Ge.createStore)(ze,Object(Je.composeWithDevTools)(Object(Ge.applyMiddleware)(Fe.a)));l.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsxs)(j.a,{store:We,children:[Object(u.jsx)(Ve,{}),Object(u.jsx)(Ae,{})]})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.f249452f.chunk.js.map